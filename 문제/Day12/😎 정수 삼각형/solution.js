function solution(triangle) {
  // ì´ˆê¸°ê°’ ì„ ì–¸
  const maxRow = triangle.length;

  // DP ë°°ì—´ ì„ ì–¸(ê¸°ë¡ìš©)
  const DP = new Array(maxRow).fill(null).map(() => new Array(maxRow).fill(-1));

  // DFS(+DP)
  function DFS(row, idx) {
    // íƒìƒ‰ ì¢…ë£Œ
    if (row === maxRow) return 0;

    // DP ë°°ì—´ì— ì´ë¯¸ ê¸°ë¡ëœ ê²½ìš° í•´ë‹¹ ê°’ ë°˜í™˜
    if (DP[row][idx] !== -1) return DP[row][idx];

    // ë‹¤ìŒ íƒìƒ‰
    let result = 0;
    for (let idx_ of [idx, idx + 1])
      result = Math.max(result, triangle[row][idx] + DFS(row + 1, idx_));

    DP[row][idx] = result; // ë©”ëª¨ì´ì œì´ì…˜(DPë°°ì—´ì— ê¸°ë¡)
    return result;
  }

  // í•¨ìˆ˜ í˜¸ì¶œ
  var answer = DFS(0, 0);

  return answer;
}
/* ðŸ¦©
ì½”í…Œìš© ì•Œê³ ë¦¬ì¦˜ì˜ ê½ƒì´ë¼ê³  í•  ìˆ˜ ìžˆëŠ” DP(Dynamic Programming, ë™ì  ê³„íšë²•)ë¬¸ì œìž…ë‹ˆë‹¤.

ë§Œì•½ ì´ ë¬¸ì œë¥¼ ê¸°ë¡ ë°°ì—´ì—†ì´ DFSë¡œë§Œ í‘¼ë‹¤ë©´, O(2^ì‚¼ê°í˜• ë°°ì—´ length)ì˜ ì‹œê°„ë³µìž¡ë„ê°€ ë°œìƒí•  ê²ƒìž…ë‹ˆë‹¤.
ë°°ì—´ ìµœëŒ€ lengthê°€ 500ì´ë¯€ë¡œ O(2^500), ë‹¹ì—°ížˆ ì‹œê°„ì´ˆê³¼ê°€ ë°œìƒí•©ë‹ˆë‹¤. (ì‹œê°„ì´ˆê³¼ ë‚˜ëŠ”ì§€ëŠ” 2^30 ì •ë„ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ë³´ë©´ ë¨)

DPì˜ í•µì‹¬ì€, "ì´ë¯¸ ê³„ì‚°í•œ ê°’ì€ ë‹¤ì‹œ ê³„ì‚°í•˜ì§€ ì•ŠëŠ”ë‹¤"ìž…ë‹ˆë‹¤.
ìƒê°í•´ë³´ë©´ ì‚¼ê°í˜• ë‚´ ì–´ë–¤ ì ì—ì„œ ì‹œìž‘í•´ ìµœëŒ€ë¡œ ì–»ì„ ìˆ˜ ìžˆëŠ” ê°’ì€ ì •í•´ì ¸ ìžˆìŠµë‹ˆë‹¤.
ë”°ë¼ì„œ ë‚´ê°€ ì›í•˜ê³ ìž í•˜ëŠ” ë‹µì„ êµ¬í•˜ê¸° ìœ„í•´ ìƒìœ„ë¶€í„° ì‹œìž‘í•´ ìž¬ê·€ì ìœ¼ë¡œ í•˜ìœ„ ë¬¸ì œë¥¼ í˜¸ì¶œí•˜ë„ë¡ ì„¤ê³„ë˜ì–´ ìžˆìŠµë‹ˆë‹¤.
ê·¸ë¦¬ê³  ë¬¸ì œê°€ í˜¸ì¶œë˜ì–´ ë‹µì´ ë‚˜ì˜¤ë©´ DP ë°°ì—´ì— ì €ìž¥ë˜ê³ , ë§Œì•½ ì¤‘ê°„ì— DP ë°°ì—´ì— ì €ìž¥ë˜ì–´ ìžˆëŠ” ê³³ì„ í˜¸ì¶œí•˜ë©´ ì €ìž¥ëœ ê°’ì„ ê°€ì ¸ì˜µë‹ˆë‹¤.
(React.memo, useMemo, useCallbackê³¼ ë¹„ìŠ·í•˜ê²Œ ë©”ëª¨ì´ì œì´ì…˜í•œë‹¤ê³  í‘œí˜„í•©ë‹ˆë‹¤.)

DPì˜ ìµœëŒ€ ê³„ì‚° íšŸìˆ˜ëŠ” DP ë°°ì—´ì˜ í¬ê¸°ë§Œí¼ìž…ë‹ˆë‹¤.
ë”°ë¼ì„œ O(2^500)ì˜ ê³„ì‚°ì„ O(500 * 500)ìœ¼ë¡œ ì¤„ì¸ ê²ƒì„ ì•Œ ìˆ˜ ìžˆìŠµë‹ˆë‹¤.

ì´ì²˜ëŸ¼ ìƒìœ„ ë¬¸ì œë¶€í„° í˜¸ì¶œì„ ì‹œìž‘í•´ í•˜ìœ„ ë¬¸ì œê°€ ë‚˜ì¤‘ì— í˜¸ì¶œë˜ëŠ” ë°©ì‹ì„ Top-Down DPë¼ê³  ë¶€ë¦…ë‹ˆë‹¤.
Top-Down DPëŠ” ì´ì™€ ê°™ì´ ì¼ë°˜ì ì¸ DFSì— ë©”ëª¨ìš© ë°°ì—´ì„ ì²¨ê°€í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ êµ¬í˜„ë©ë‹ˆë‹¤.

ë°˜ë©´ ìƒìœ„ ë¬¸ì œë¥¼ í˜¸ì¶œí•˜ì§€ ì•Šê³  í•˜ìœ„ ë¬¸ì œë¶€í„° ë¨¼ì € í’€ê¸° ì‹œìž‘í•´ ì°¨ê·¼ì°¨ê·¼ ìƒìœ„ ë¬¸ì œë¡œ ë‹µì„ ìŒ“ì•„ê°€ëŠ” ë°©ì‹ë„ ìžˆìŠµë‹ˆë‹¤.
ì´ë¥¼ Bottom-Up DPë¼ê³  ë¶€ë¦…ë‹ˆë‹¤. ë³´í†µ ë°˜ë³µë¬¸ì„ ì´ìš©í•´ êµ¬í˜„í•©ë‹ˆë‹¤.
*/

function solution(triangle) {
  // ì´ˆê¸°ê°’ ì„ ì–¸
  const maxRow = triangle.length;

  // DP ë°°ì—´ ì„ ì–¸
  const DP = new Array(maxRow).fill(null).map(() => new Array(maxRow).fill(-1));

  // Bottom-Up DP
  for (let row = maxRow - 1; row >= 0; row--) {
    for (let idx = 0; idx <= row; idx++) {
      // ë§¨ ì•„ëž«ì¤„ì¸ ê²½ìš° ìžê¸° ìžì‹ ê°’ë§Œ ê¸°ë¡
      if (row === maxRow - 1) {
        DP[row][idx] = triangle[row][idx];
        continue;
      }

      // ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ ê³„ì‚°
      let result = 0;
      for (let idx_ of [idx, idx + 1]) {
        result = Math.max(result, triangle[row][idx] + DP[row + 1][idx_]);
      }
      DP[row][idx] = result;
    }
  }

  // DP ë°°ì—´ë¡œ ë‹µì„ ì–»ì–´ëƒ„
  var answer = DP[0][0];

  return answer;
}
